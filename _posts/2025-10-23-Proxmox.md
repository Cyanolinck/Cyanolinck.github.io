---
title: Proxmox
date: 2025-10-24 11:00:00 +200
categories: [Knowledge, Guide]
tags: [virtualization, proxmox, linux, debian, tailscale] # TAG names should always be lowercase
---

This is an opinionated proxmox guide with how I personally setup Proxmox.

## Requirements

What you will need.

* 2 computers, one for Proxmox and anohter to ssh into Proxmox and setup the website GUI.

* USB stick or external drive to install and boot the Proxmox installation from.

* Hardware that meets the **[System Requirements](https://www.proxmox.com/en/products/proxmox-virtual-environment/requirements)** for running Promxox

&nbsp;

## Promxox Installation

Download the latest **[Proxmox ISO](https://www.proxmox.com/en/downloads/proxmox-virtual-environment/iso)** which when this guide was made was V.9.0-1.

Then download **[Rufus](https://rufus.ie)** which we will use to install Proxmox to an external USB or drive.

---

&nbsp;

### Install Proxmox ISO to an USB

Open **Rufus**

Click on **"SELECT"** and open the downloaded Proxmox ISO file

![alt text]({{ '/assets/Images/rufus-select.png' | relative_url }})

&nbsp;

Rufus should automatically detect DD (byte-for-byte) mode as it’s a requirement for the Proxmox ISO file to work and foce select it.

![alt text]({{ '/assets/Images/rufus-dd.png' | relative_url }})

&nbsp;

If you don’t see this pop-up don’t worry.
You should be asked instead when clicking on “START” and then select DD mode in that case.

![alt text]({{ '/assets/Images/rufus-ready.png' | relative_url }})

&nbsp;

Detach the USB and boot the computer from the USB drive.

Follow below image or go to [https://pve.proxmox.com/wiki/Installation](https://pve.proxmox.com/wiki/Installation) for a more thorogh walkthough of the setup options.

![alt text]({{ '/assets/Images/image.png' | relative_url }})

![alt text]({{ '/assets/Images/image-4.png' | relative_url }})

&nbsp;

Select the drive where Proxmox should be installed on. We'll leave the rest as default.

![alt text]({{ '/assets/Images/image-1.png' | relative_url }})

&nbsp;

### Proxmox network setup

If the computer is connected to a network with DHCP if will give itself an IP.

Note that this will be set statically so if the IP get's reserverd by anohter computer in the future, proxmox will fail to get an IP address. So reserve the IP assiged to proxmox on your router so you won't get any conflicts in the future.

#### [Optional] Using Tailcale in FQDN

If you will be using Tailscale you can use your Tailnet DNS name. [What is Tailscale?](https://tailscale.com)

For example, mine is **spotted-universe.ts.net** and I want this proxmox machine to be named **Proxmox-guide**.

![alt text]({{ '/assets/Images/image-16.png' | relative_url }})

&nbsp;

So I'll use **proxmox-guide.spotted-universe.ts.net**

If you also want to use Tailscale, sign up for tailscale and once in, go to the DNS section.

[https://login.tailscale.com/admin/dns](https://login.tailscale.com/admin/dns)

We will install Tailscale inside of Proxmox later on in this guide.

&nbsp;

#### Use an invalid FQDN if not using Tailscale

You can use any of the below options.

```text
.invalid
.test
.example
```

&nbsp;

**.localhost** has also been reserved but should be avoided.
**.local** has not been reserved but is widely used for such scenarios,

I personally would prefer **[replace-with-proxmox-name].invalid** if I didn't use tailscale.

![alt text]({{ '/assets/Images/image-2.png' | relative_url }})

![alt text]({{ '/assets/Images/image-19.png' | relative_url }})

&nbsp;

Once it has rebooted you should see this screen.

Now go to the URL displayed in a web browser.

![alt text]({{ '/assets/Images/image-5.png' | relative_url }})

&nbsp;

Sign in with the username **root** and the **password** set during the setup.

Set the **Realm** to **Linux PAM standard authentication**.

![alt text]({{ '/assets/Images/image-17.png' | relative_url }})

&nbsp;

&nbsp;

## Modify repositories

By default Proxmox is set to use enterprise repositories to retrive updates.

We'll change this to use the No-Subscription Repository instead as we won't be paying for Proxmox.

First navigate to the repositories section in Proxmox

![alt text]({{ '/assets/Images/image-6.png' | relative_url }})

&nbsp;

Disable the Repositories with enterprise in the Components field. Proxmox will warn that there isn't any Proxmox Repository available for it to update from.

![alt text]({{ '/assets/Images/image-7.png' | relative_url }})

&nbsp;

### SSH

SSH into the proxmox machine (I personally use **[Termius](https://termius.com/)**)

The username will be the same **root** and the **password** used on the website.

&nbsp;

### Proxmox Repositories

Once inside, copy the No-Subscription Repository text into /etc/apt/sources.list.d/proxmox.sources

The latest Proxmox Repositories can be found here <https://pve.proxmox.com/wiki/Package_Repositories>.

![alt text]({{ '/assets/Images/image-8.png' | relative_url }})

&nbsp;

```bash
nano /etc/apt/sources.list.d/proxmox.sources
```

All all below to the file

```bash
Types: deb
URIs: http://download.proxmox.com/debian/pve
Suites: trixie
Components: pve-no-subscription
Signed-By: /usr/share/keyrings/proxmox-archive-keyring.gpg
```

The proxmox.sources file should look like this.

![alt text]({{ '/assets/Images/image-11.png' | relative_url }})

Save with **Ctrl + o**, **Enter** and then close it with **Ctrl x**

&nbsp;

### Debian Repositories

Now go to /etc/apt/sources.list

```bash
nano /etc/apt/sources.list
```

Paste in below

```bash
deb http://ftp.se.debian.org/debian trixie main contrib

deb http://ftp.se.debian.org/debian trixie-updates main contrib

# security updates
deb http://security.debian.org trixie-security main contrib

# PVE pve-no-subscription repository provided by proxmox.com,
# NOT recommended for production use
deb http://download.proxmox.com/debian/pve trixie pve-no-subscription
```

It should look like this.

![alt text]({{ '/assets/Images/image-18.png' | relative_url }})

Save with **Ctrl + o**, **Enter** and then close it with **Ctrl x**

&nbsp;

## Update Proxmox

Now go back to the web GUI and refresh the website.

The **red error** should now change to a **yellow warning**.

![alt text]({{ '/assets/Images/image-9.png' | relative_url }})

&nbsp;

Go to **Updates** and click **Refresh**

![alt text]({{ '/assets/Images/image-12.png' | relative_url }})

&nbsp;

Click **OK** on the No Valid subscription

![alt text]({{ '/assets/Images/image-13.png' | relative_url }})

&nbsp;

Once you see **TASK OK** close the window.

![alt text]({{ '/assets/Images/image-14.png' | relative_url }})

&nbsp;

Type in **Y** and press **Enter** to start the updates

![alt text]({{ '/assets/Images/image-15.png' | relative_url }})

&nbsp;

## [Optional] Remove the "No vaild subscription pop-up

SSH into the Proxmox machine again.

### [Option 1] use an script to remove the pop-up

Use eihter wget or Git to download the script to Proxmox

#### Download the script with wget

```bash
wget https://raw.githubusercontent.com/foundObjects/pve-nag-buster/master/install.sh

# Always read scripts downloaded from the internet before running them with sudo
bash install.sh

# or ..
```

#### Download the script with Git

```bash
git clone https://github.com/foundObjects/pve-nag-buster.git

# Always read scripts downloaded from the internet before running them with sudo
cd pve-nag-buster && sudo ./install.sh
```

#### Uninstall

Here's how to uninstall the scrip and re-add the subscription pop-up.

```bash
sudo ./install.sh --uninstall
# remove /etc/apt/sources.list.d/pve-no-subscription.list if desired
```

&nbsp;

### [Option 2] Manually remove the pop-up

```bash
cd /usr/share/javascript/proxmox-widget-toolkit/
```

```bash
cp proxmoxlib.js proxmoxlib.js.bak
```

```bash
nano proxmoxlib.js
```

&nbsp;

Use Ctrl + w  then search for **= 'active'**

We just need to change **!==** to **==**

from **res.data.status.toLowerCase() !== 'active'**

to -> **res.data.status.toLowerCase() == 'active'**

&nbsp;

To save, use **Ctrl + o** then **Enter** and finally **Ctrl + x**

Now we need to restart the Proxmox service.

```bash
systemctl restart pveproxy.service
```

&nbsp;

Refresh browser with Shift + F5 and the prompts should be gone.

If you want to revert our change you can use below command.

```bash
mv /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js
```

&nbsp;

## [Optional] Install Tailscale

```bash
curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/lunar.noarmor.gpg | tee /usr/share/keyrings/tailscale-archive-keyring.gpg >/dev/null
curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/lunar.tailscale-keyring.list | tee /etc/apt/sources.list.d/tailscale.list
```

We'll setup a systemd service to point the port 8006 so we won't need to add the port to the proxmox DNS name in the browser.

```bash
apt-get update
apt-get install tailscale -y
```

Create Auth Key - <https://login.tailscale.com/admin/settings/keys>

Select **Generate auth key…**

Enable **Pre-approved** and click **Generate key**
Copy the key and replace **TSKEYHERE** in the command below.

```bash
tailscale up --authkey=TSKEYHERE --advertise-exit-node
```

Example of how the command should look like but use your generated tailscale key

```bash
tailscale up --authkey=tskey-auth-kV6T4GOx7BK1CNTRL-fpMLSnx3wm845uQEszvxm8FJmT3dJokQ --advertise-exit-node
```

Now we access proxmox from any device that has Tailscale with the ip or dns name and port.

However we can do it better.

We'll add tailscale own certificate and auto serve the website from the port.

Create tailscale.service file as below

```bash
nano /etc/systemd/system/tailscale.service
```

Add below in the file

```bash
[Unit]
Description=Tailscale Service
After=network.target

[Service]
ExecStart=/usr/bin/tailscale serve https+insecure://localhost:8006
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
```

```bash
systemctl daemon-reload
```

```bash
systemctl enable tailscale.service
```

```bash
systemctl start tailscale.service
```

Now you can access Proxmox with valid certificate without having to add the port at the end with the tailscale DNS name.

So for me I can access Proxmox from <https://proxmox-guide.spotted-universe.ts.net>

More information here: <https://tailscale.com/kb/1017/install>

---
